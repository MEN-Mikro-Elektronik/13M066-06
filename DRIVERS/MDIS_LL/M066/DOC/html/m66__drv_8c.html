<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - M66 MDIS Driver - m66_drv.c File Reference</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">M66 MDIS Driver &nbsp; </h1>
	<h3>m66_drv.c File Reference</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>m66_drv.c File Reference</h1>Low level driver for M66 M-Modules.  
<a href="#_details">More...</a>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structM66__HANDLE.html">M66_HANDLE</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">low-level handle </em> <a href="structM66__HANDLE.html#_details">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a0">INT32_OR_64</a>&nbsp;&nbsp;&nbsp;int32</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a1">DBG_MYLEVEL</a>&nbsp;&nbsp;&nbsp;m66Hdl-&gt;dbgLevel</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a2">DBH</a>&nbsp;&nbsp;&nbsp;m66Hdl-&gt;dbgHdl</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a3">M66_CH_WIDTH</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a4">MOD_ID_MAGIC</a>&nbsp;&nbsp;&nbsp;0x5346</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a5">MOD_ID_SIZE</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a6">MOD_ID</a>&nbsp;&nbsp;&nbsp;66</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a7">M66_DEFAULT_BUF_SIZE</a>&nbsp;&nbsp;&nbsp;512</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a8">M66_DEFAULT_BUF_TIMEOUT</a>&nbsp;&nbsp;&nbsp;1000</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a9">M66_DEFAULT_IRQ_DISABLED</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a10">M66_HW_ACCESS_NO</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a11">M66_HW_ACCESS_PERMITED</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a12">M66_IRQ</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a13">M66_NO_IRQ</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a14">IOREG</a>(ch)&nbsp;&nbsp;&nbsp;(ch&lt;&lt;1)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a15">INTREG</a>&nbsp;&nbsp;&nbsp;0xfe</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a16">D_IELH</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a17">D_IEHL</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a18">D_IEMSK</a>&nbsp;&nbsp;&nbsp;0x06</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a19">D_EDLH</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a20">D_EDHL</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a21">D_EDMSK</a>&nbsp;&nbsp;&nbsp;0x30</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a22">D_OUTVAL</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a23">D_INVAL</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a24">I_IRQCH</a>&nbsp;&nbsp;&nbsp;0x3e</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a25">M66_FLREG</a>&nbsp;&nbsp;&nbsp;0xfe</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a26">D302_MAGICWORD_REG</a>&nbsp;&nbsp;&nbsp;0x00FC</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a27">bitset</a>(byte, mask)&nbsp;&nbsp;&nbsp;((byte) |=  (mask))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a28">bitclr</a>(byte, mask)&nbsp;&nbsp;&nbsp;((byte) &amp;= ~(mask))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a29">bitmove</a>(byte, mask, bool)&nbsp;&nbsp;&nbsp;(bool ? bitset(byte,mask) : bitclr(byte,mask))</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a31">M66_MemCleanup</a> (<a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *m66Hdl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocates low-level driver structure,installed signals and buffers. </em> <a href="#a31"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a32">M66_HwBlockRead</a> (<a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *m66Hdl, u_int8 *buf, int calledFromIrq, int32 *edgeOccuredP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads all 32 channels. </em> <a href="#a32"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a33">getStatBlock</a> (<a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *m66Hdl, int32 code, M_SETGETSTAT_BLOCK *blockStruct)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a34">M66_Ident</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the pointer to ident string. </em> <a href="#a34"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a35">M66_FlexDataIdent</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the pointer to flex data ident string. </em> <a href="#a35"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a36">M66_Init</a> (DESC_SPEC *descSpec, OSS_HANDLE *osHdl, MACCESS *ma, OSS_SEM_HANDLE *devSemHdl, OSS_IRQ_HANDLE *irqHdl, LL_HANDLE **llHdlP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decodes descriptor , allocates and initializes the ll-driver structure. </em> <a href="#a36"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a37">M66_Exit</a> (LL_HANDLE **llHdlP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deinitializes the hardware, disables interrupts, frees allocated memory. </em> <a href="#a37"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a38">M66_Read</a> (LL_HANDLE *llHdl, int32 ch, int32 *value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads input state from current channel. </em> <a href="#a38"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a39">M66_Write</a> (LL_HANDLE *llHdl, int32 ch, int32 value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The output of the current channel will be switched on or off. </em> <a href="#a39"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a40">M66_SetStat</a> (LL_HANDLE *llHdl, int32 code, int32 ch, INT32_OR_64 value32_or_64)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Changes the device state. </em> <a href="#a40"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a41">M66_GetStat</a> (LL_HANDLE *llHdl, int32 code, int32 ch, INT32_OR_64 *value32_or_64P)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the device state. </em> <a href="#a41"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a42">M66_BlockRead</a> (LL_HANDLE *llHdl, int32 ch, void *buf, int32 size, int32 *nbrRdBytesP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads all channels to buffer. </em> <a href="#a42"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a43">M66_BlockWrite</a> (LL_HANDLE *llHdl, int32 ch, void *buf, int32 size, int32 *nbrWrBytesP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switch maximum 32 channels. </em> <a href="#a43"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a44">M66_Irq</a> (LL_HANDLE *llHdl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The irq routine reads all channels. </em> <a href="#a44"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a45">M66_Info</a> (int32 infoType,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get information about hardware and driver requirements. </em> <a href="#a45"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a46">m66_flexload</a> (<a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *m66Hdl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads FLEXlogic with binary data. </em> <a href="#a46"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a47">__M66_GetEntry</a> (LL_ENTRY *drvP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the entry points of the low-level driver functions. </em> <a href="#a47"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="m66__drv_8c.html#a30">IdentString</a> [] = "M66 - m66 low level driver: $Id: m66_drv.c,v 1.16 2010/09/21 17:43:04 ts Exp $"</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Low level driver for M66 M-Modules. 
<p>
Project: M66 module driver (MDIS V4.x)<p>
<dl compact><dt><b>Author:</b></dt><dd>franke <dl compact><dt><b>Date</b></dt><dd>2010/09/21 17:43:04 </dd></dl>
<dl compact><dt><b>Revision</b></dt><dd>1.16 </dd></dl>
</dd></dl>
<p>
The driver supports also D302/A302 M66 onboard devices.<p>
Required: none <dl compact><dt><b>Preprocessor Switches:</b></dt><dd>_ONE_NAMESPACE_PER_DRIVER_</dd></dl>
<hr><h2>Define Documentation</h2>
<a name="a28" doxytag="m66_drv.c::bitclr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define bitclr</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>mask&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((byte) &amp;= ~(mask))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a29" doxytag="m66_drv.c::bitmove"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define bitmove</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>mask,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(bool ? bitset(byte,mask) : bitclr(byte,mask))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a27" doxytag="m66_drv.c::bitset"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define bitset</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">byte,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>mask&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((byte) |=  (mask))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a26" doxytag="m66_drv.c::D302_MAGICWORD_REG"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D302_MAGICWORD_REG&nbsp;&nbsp;&nbsp;0x00FC
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a20" doxytag="m66_drv.c::D_EDHL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_EDHL&nbsp;&nbsp;&nbsp;0x20
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a19" doxytag="m66_drv.c::D_EDLH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_EDLH&nbsp;&nbsp;&nbsp;0x10
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a21" doxytag="m66_drv.c::D_EDMSK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_EDMSK&nbsp;&nbsp;&nbsp;0x30
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a17" doxytag="m66_drv.c::D_IEHL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_IEHL&nbsp;&nbsp;&nbsp;0x04
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a16" doxytag="m66_drv.c::D_IELH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_IELH&nbsp;&nbsp;&nbsp;0x02
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a18" doxytag="m66_drv.c::D_IEMSK"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_IEMSK&nbsp;&nbsp;&nbsp;0x06
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a23" doxytag="m66_drv.c::D_INVAL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_INVAL&nbsp;&nbsp;&nbsp;0x08
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a22" doxytag="m66_drv.c::D_OUTVAL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define D_OUTVAL&nbsp;&nbsp;&nbsp;0x01
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="m66_drv.c::DBG_MYLEVEL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DBG_MYLEVEL&nbsp;&nbsp;&nbsp;m66Hdl-&gt;dbgLevel
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="m66_drv.c::DBH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DBH&nbsp;&nbsp;&nbsp;m66Hdl-&gt;dbgHdl
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a24" doxytag="m66_drv.c::I_IRQCH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define I_IRQCH&nbsp;&nbsp;&nbsp;0x3e
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a0" doxytag="m66_drv.c::INT32_OR_64"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INT32_OR_64&nbsp;&nbsp;&nbsp;int32
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a15" doxytag="m66_drv.c::INTREG"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INTREG&nbsp;&nbsp;&nbsp;0xfe
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a14" doxytag="m66_drv.c::IOREG"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IOREG</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ch&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(ch&lt;&lt;1)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a3" doxytag="m66_drv.c::M66_CH_WIDTH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_CH_WIDTH&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="m66_drv.c::M66_DEFAULT_BUF_SIZE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_DEFAULT_BUF_SIZE&nbsp;&nbsp;&nbsp;512
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="m66_drv.c::M66_DEFAULT_BUF_TIMEOUT"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_DEFAULT_BUF_TIMEOUT&nbsp;&nbsp;&nbsp;1000
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="m66_drv.c::M66_DEFAULT_IRQ_DISABLED"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_DEFAULT_IRQ_DISABLED&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a25" doxytag="m66_drv.c::M66_FLREG"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_FLREG&nbsp;&nbsp;&nbsp;0xfe
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="m66_drv.c::M66_HW_ACCESS_NO"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_HW_ACCESS_NO&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="m66_drv.c::M66_HW_ACCESS_PERMITED"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_HW_ACCESS_PERMITED&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a12" doxytag="m66_drv.c::M66_IRQ"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_IRQ&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a13" doxytag="m66_drv.c::M66_NO_IRQ"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define M66_NO_IRQ&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="m66_drv.c::MOD_ID"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MOD_ID&nbsp;&nbsp;&nbsp;66
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a4" doxytag="m66_drv.c::MOD_ID_MAGIC"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MOD_ID_MAGIC&nbsp;&nbsp;&nbsp;0x5346
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="m66_drv.c::MOD_ID_SIZE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MOD_ID_SIZE&nbsp;&nbsp;&nbsp;128
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a47" doxytag="m66_drv.c::__M66_GetEntry"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void __M66_GetEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_ENTRY *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>drvP</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the entry points of the low-level driver functions. 
<p>
Note: Is used by MDIS kernel only.<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>drvP</em>&nbsp;</td><td><b>OUT</b> pointer to the initialized structure </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a33" doxytag="m66_drv.c::getStatBlock"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 getStatBlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>m66Hdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>M_SETGETSTAT_BLOCK *&nbsp;</td>
          <td class="mdname" nowrap> <em>blockStruct</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a42" doxytag="m66_drv.c::M66_BlockRead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_BlockRead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrRdBytesP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads all channels to buffer. 
<p>
Stores input state and occurred edges. Always starts with channel 0.<p>
<div class="fragment"><pre>        Supported modes:  M_BUF_USRCTRL         reads from hardware
                                  M_BUF_RINGBUF         reads from buffer
                                  M_BUF_RINGBUF_OVERWR   <span class="stringliteral">"     "</span>     <span class="stringliteral">"</span>
<span class="stringliteral">                                  M_BUF_CURRBUF          "</span>     <span class="stringliteral">"     "</span>

                buffer structure

                byte     0    1..30    31    32
                       +---+- - - - -+----++----+---
             channel   | 0 |  1..30  | 31 ||  0 | .....
                       +---+- - - - -+----++----+---

                byte structure

                bit      7..3     2        1         0
                       +- - -+---------+---------+-------+
            meaning    |  no |  H-&gt;L   |  L-&gt;H   | value |
                       +- - -+---------+---------+-------+
</pre></div>--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel (always ignored) </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td><b>IN</b> buffer to store read values </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td><b>IN</b> must be multiple of buffer width (32) </td></tr>
    <tr><td valign=top><em>nbrRdBytesP</em>&nbsp;</td><td><b>IN</b> pointer to variable where number of read bytes is stored </td></tr>
    <tr><td valign=top><em>*nbrRdBytesP</em>&nbsp;</td><td><b>OUT</b> number of read bytes </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a10">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a43" doxytag="m66_drv.c::M66_BlockWrite"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_BlockWrite </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>nbrWrBytesP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Switch maximum 32 channels. 
<p>
Always starts with channel 0.<p>
<div class="fragment"><pre>    Supported modes:  M_BUF_USRCTRL         writes to hardware


                buffer structure

                byte     0    1..30    31
                       +---+- - - - -+----+
             channel   | 0 |  1..30  | 31 |
                       +---+- - - - -+----+

                byte structure

                bit      7..1    0
                       +- - -+-------+
            meaning    |  no | value |  0=off, 1=on
                       +- - -+-------+
</pre></div>--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel (always ignored) </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td><b>IN</b> buffer where output values are stored </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td><b>IN</b> number of bytes to write (max. 32) </td></tr>
    <tr><td valign=top><em>nbrWrBytesP</em>&nbsp;</td><td><b>OUT</b> number of written bytes </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a9">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a37" doxytag="m66_drv.c::M66_Exit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Exit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>llHdlP</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deinitializes the hardware, disables interrupts, frees allocated memory. 
<p>
Note: Is called by MDIS kernel only.<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdlP</em>&nbsp;</td><td><b>IN</b> pointer to low level driver handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a13">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a35" doxytag="m66_drv.c::M66_FlexDataIdent"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char * M66_FlexDataIdent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the pointer to flex data ident string. 
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Returns:</b></dt><dd>pointer to ident string </dd></dl>
    </td>
  </tr>
</table>
<a name="a46" doxytag="m66_drv.c::m66_flexload"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 m66_flexload </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>m66Hdl</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Loads FLEXlogic with binary data. 
<p>
Binary data is stored in array 'm66_flex' from <a class="el" href="m66__flex_8h.html">m66_flex.h</a>.<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>m66Hdl</em>&nbsp;</td><td><b>IN</b> m66 low level driver handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 </dd></dl>
    </td>
  </tr>
</table>
<a name="a41" doxytag="m66_drv.c::M66_GetStat"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_GetStat </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>INT32_OR_64 *&nbsp;</td>
          <td class="mdname" nowrap> <em>value32_or_64P</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the device state. 
<p>
<div class="fragment"><pre> common codes               values          meaning
     M_LL_CH_NUMBER            32              number of channels

     M_LL_CH_DIR               M_CH_INOUT      direction of curr ch
                                               always in/out

     M_LL_CH_LEN               1               length in bit

     M_LL_CH_TYP               M_CH_BINARY     binary

     M_LL_IRQ_COUNT            0..x            module irq count

     M_LL_ID_CHECK             0..1            SPROM ID is checked
                                               in <a class="code" href="m66__drv_8c.html#a36">M66_Init</a>()

     M_LL_DEBUG_LEVEL          see oss.h       current debug level

     M_LL_ID_SIZE              128             eeprom size [bytes] (*1*)

     M_LL_BLK_ID_DATA            -               eeprom raw data (*2*)

     M_MK_BLK_REV_ID           pointer to the ident function table


   specific codes             values          meaning
     <a class="code" href="m66__drv_8h.html#a6">M66_EDGE_MASK</a>             0               no edge
                               1 <a class="code" href="m66__drv_8h.html#a9">M66_IELH</a>      rising edge
                               2 <a class="code" href="m66__drv_8h.html#a10">M66_IEHL</a>      falling edge
                                               get the edge mask of the current
                                               channel

     <a class="code" href="m66__drv_8h.html#a7">M66_SIG_EDGE_OCCURRED</a>     signal number   get the signal number
                                               0 <span class="keywordflow">if</span> not installed

     <a class="code" href="m66__drv_8h.html#a5">M66_IRQ_SOURCE</a>            irq source      irq triggering channel
                                               of the last irq

   Note <span class="keywordflow">for</span> D302/A302 devices:
     (*1*) M_LL_ID_SIZE returns 0
     (*2*) M_LL_BLK_ID_DATA not supported
</pre></div>--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>code</em>&nbsp;</td><td><b>IN</b> getstat code </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel (ignored for some codes) </td></tr>
    <tr><td valign=top><em>value32_or_64P</em>&nbsp;</td><td><b>IN</b> pointer to variable where value stored or pointer to blocksetstat data </td></tr>
    <tr><td valign=top><em>*value32_or_64P</em>&nbsp;</td><td><b>OUT</b> getstat value </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a12">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a32" doxytag="m66_drv.c::M66_HwBlockRead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_HwBlockRead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>m66Hdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>calledFromIrq</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>edgeOccuredP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads all 32 channels. 
<p>
Stores the input states and the occurred edges in the buffer. Clears the edge flag registers.<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>m66Hdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td><b>IN</b> buffer to store read values </td></tr>
    <tr><td valign=top><em>calledFromIrq</em>&nbsp;</td><td><b>IN</b> M66_NO_IRQ or M66_IRQ if called from IRQ </td></tr>
    <tr><td valign=top><em>edgeOccuredP</em>&nbsp;</td><td><b>IN</b> ptr to buffer for edge occured </td></tr>
    <tr><td valign=top><em>*edgeOccuredP</em>&nbsp;</td><td><b>OUT</b> shows if edge occurred since last block was read </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>nbr of read bytes ( 32 ) </dd></dl>
    </td>
  </tr>
</table>
<a name="a34" doxytag="m66_drv.c::M66_Ident"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char * M66_Ident </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the pointer to ident string. 
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Returns:</b></dt><dd>pointer to ident string </dd></dl>
    </td>
  </tr>
</table>
<a name="a45" doxytag="m66_drv.c::M66_Info"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Info </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int32&nbsp;</td>
          <td class="mdname" nowrap> <em>infoType</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>...&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get information about hardware and driver requirements. 
<p>
The following info codes are supported:<br>
<p>
<div class="fragment"><pre>              Code                      Description
                ------------------------  -----------------------------
                LL_INFO_HW_CHARACTER      hardware characteristics
                LL_INFO_ADDRSPACE_COUNT   nr of required address spaces
                LL_INFO_ADDRSPACE         address space information
                LL_INFO_IRQ               interrupt required
                LL_INFO_LOCKMODE          process lock mode required
</pre></div>The LL_INFO_HW_CHARACTER code returns all address and data modes (ORed) which are supported by the hardware (MDIS_MAxx, MDIS_MDxx).<br>
<p>
The LL_INFO_ADDRSPACE_COUNT code returns the number of address spaces used by the driver.<br>
<p>
The LL_INFO_ADDRSPACE code returns information about one specific address space (MDIS_MAxx, MDIS_MDxx). The returned data mode represents the widest hardware access used by the driver.<br>
<p>
The LL_INFO_IRQ code returns whether the driver supports an interrupt routine (TRUE or FALSE).<br>
<p>
The LL_INFO_LOCKMODE code returns which process locking mode the driver needs (LL_LOCK_xxx).<br>
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>infoType</em>&nbsp;</td><td><b>IN</b> info code </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td><b>IN</b> argument(s) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>success (0) or error code </dd></dl>
    </td>
  </tr>
</table>
<a name="a36" doxytag="m66_drv.c::M66_Init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DESC_SPEC *&nbsp;</td>
          <td class="mdname" nowrap> <em>descSpec</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>OSS_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>osHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>MACCESS *&nbsp;</td>
          <td class="mdname" nowrap> <em>ma</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>OSS_SEM_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>devSem</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>OSS_IRQ_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>irqHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>LL_HANDLE **&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdlP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decodes descriptor , allocates and initializes the ll-driver structure. 
<p>
Loads the PLD and initializes the hardware. Reads and checks the ID if it is enabled in the descriptor. Clears and disables the module interrupts. Switches off all outputs. The driver supports 32 digital i/o channels. There may be one read buffer with a width of 32 bytes.<p>
<div class="fragment"><pre>             Deskriptor key        Default         Range/Unit

                DEBUG_LEVEL_DESC      OSS_DBG_DEFAULT  see oss_os.h
                DEBUG_LEVEL_MBUF      OSS_DBG_DEFAULT  see oss_os.h
                DEBUG_LEVEL           OSS_DBG_DEFAULT  see oss_os.h

                RD_BUF/SIZE           512              0..n*32 in byte

                RD_BUF/MODE           MBUF_USR_CTRL    see mbuf.h

                RD_BUF/TIMEOUT        1000             1..n in milli sec.

                RD_BUF/HIGHWATER      512              0..RD_BUF/SIZE in byte

                ID_CHECK              1                0..1 0 - disabled
                                                            1 - enabled

                CHANNEL_%d/IRQ_ENABLE 0                0..3 0 - disabled
                                                            1 - rising  edge
                                                            2 - falling edge
                                                            3 - any     edge
                                                       %d 0..31
</pre></div>Note: Is called by MDIS kernel only.<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>descSpec</em>&nbsp;</td><td><b>IN</b> descriptor specifier </td></tr>
    <tr><td valign=top><em>osHdl</em>&nbsp;</td><td><b>IN</b> pointer to the os specific structure </td></tr>
    <tr><td valign=top><em>ma</em>&nbsp;</td><td><b>IN</b> access handle (in simplest case M66 base address) </td></tr>
    <tr><td valign=top><em>devSem</em>&nbsp;</td><td><b>IN</b> device semaphore for unblocking in wait </td></tr>
    <tr><td valign=top><em>irqHdl</em>&nbsp;</td><td><b>IN</b> irq handle for mask and unmask interrupts </td></tr>
    <tr><td valign=top><em>llHdlP</em>&nbsp;</td><td><b>IN</b> pointer to the variable where low level driver handle will be stored</td></tr>
    <tr><td valign=top><em>*llHdlP</em>&nbsp;</td><td><b>OUT</b> low level driver handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a6">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a44" doxytag="m66_drv.c::M66_Irq"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Irq </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>llHdl</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The irq routine reads all channels. 
<p>
It stores the input states and the occurred edges to the read buffer if available.<p>
It clears the edge flag registers. If signal is installed (setstat code M66_SIG_EDGE_OCCURRED) this is sent.<p>
It clears the module irq and stores the number of the channel that triggered the irq. (getstat code M66_IRQ_SOURCE)<p>
It intcrements the module irq counter if an edge was detected. (getstat code M_LL_IRQ_COUNT)<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>MDIS_IRQ_DEV_NOT | MDIS_IRQ_DEVICE </dd></dl>
    </td>
  </tr>
</table>
<a name="a31" doxytag="m66_drv.c::M66_MemCleanup"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_MemCleanup </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structM66__HANDLE.html">M66_HANDLE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>m66Hdl</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocates low-level driver structure,installed signals and buffers. 
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>m66Hdl</em>&nbsp;</td><td><b>IN</b> m66 low level driver handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
    </td>
  </tr>
</table>
<a name="a38" doxytag="m66_drv.c::M66_Read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>valueP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads input state from current channel. 
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel 0..31 </td></tr>
    <tr><td valign=top><em>valueP</em>&nbsp;</td><td><b>IN</b> pointer to variable where read value stored </td></tr>
    <tr><td valign=top><em>*valueP</em>&nbsp;</td><td><b>OUT</b> read value 0=low, 1=high </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a8">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a40" doxytag="m66_drv.c::M66_SetStat"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_SetStat </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>INT32_OR_64&nbsp;</td>
          <td class="mdname" nowrap> <em>value32_or_64</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Changes the device state. 
<p>
<div class="fragment"><pre> common codes               values          meaning         
     M_MK_IRQ_ENABLE           0               disable module interrupt
                               1               enable  module interrupt
                                               by writing edge channel mask

     M_LL_DEBUG_LEVEL          see oss.h       en/disable debug output
                                               at task or interrupt level

     M_LL_IRQ_COUNT            irq count       set the module interrupt counter


   specific codes             values          meaning
     <a class="code" href="m66__drv_8h.html#a6">M66_EDGE_MASK</a>             0               no edge
                               1 <a class="code" href="m66__drv_8h.html#a9">M66_IELH</a>      rising edge
                               2 <a class="code" href="m66__drv_8h.html#a10">M66_IEHL</a>      falling edge
                                               set the edge mask of the current
                                               channel

     <a class="code" href="m66__drv_8h.html#a7">M66_SIG_EDGE_OCCURRED</a>     signal number   installs the signal sent by ISR

     <a class="code" href="m66__drv_8h.html#a8">M66_SIG_CLR_EDGE_OCCURRED</a> signal number   deinstalls the signal
</pre></div>--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>code</em>&nbsp;</td><td><b>IN</b> setstat code </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel (ignored for some codes) </td></tr>
    <tr><td valign=top><em>value32_or_64</em>&nbsp;</td><td><b>IN</b> setstat value or pointer to blocksetstat data </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a11">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<a name="a39" doxytag="m66_drv.c::M66_Write"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 M66_Write </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LL_HANDLE *&nbsp;</td>
          <td class="mdname" nowrap> <em>llHdl</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The output of the current channel will be switched on or off. 
<p>
--------------------------------------------------------------------------- <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>llHdl</em>&nbsp;</td><td><b>IN</b> pointer to low-level driver data structure </td></tr>
    <tr><td valign=top><em>ch</em>&nbsp;</td><td><b>IN</b> current channel 0..31 </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td><b>IN</b> switch on/off 0=off, 1=on </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 | error code </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="m66__ll_8c-example.html#a7">m66_ll.c</a>.</dl>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a30" doxytag="m66_drv.c::IdentString"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="m66__drv_8c.html#a30">IdentString</a>[] = "M66 - m66 low level driver: $Id: m66_drv.c,v 1.16 2010/09/21 17:43:04 ts Exp $"<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>

	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for M66 MDIS Driver using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

